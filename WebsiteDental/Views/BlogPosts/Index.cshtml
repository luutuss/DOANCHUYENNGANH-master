@section Styles {
    <link href="~/assets/css/BlogDental.css" rel="stylesheet">
}
@{
    var categories = ViewBag.blogcategories as List<BlogCategory> ?? new List<BlogCategory>();
    var blogPosts = ViewBag.Blogposts as List<BlogPost> ?? new List<BlogPost>();
}



<!-- Bài viết hiện thị theo danh mục -->
<div class="container blog-content-area">
    <div class="row">
        <div class="col-lg-9">
            <h2 class="dental-section-title">Bài viết mới nhất</h2>
            <div class="dental-section-description">
                <p>Cập nhật những kiến thức sức khỏe mới nhất từ đội ngũ chuyên gia của chúng tôi. Tìm hiểu các phương pháp điều trị tiên tiến và lời khuyên chăm sóc sức khỏe. Đọc ngay nhé.</p>
            </div>
            <div class="row">
                <!-- Các bài viết - điều chỉnh thành 4 bài trên một hàng -->
                @foreach (var item in blogPosts)
                {
                    <div class="col-md-3 col-sm-6 mb-4">
                        <div class="blog-post-card">
                            <div class="blog-post-card__image-container">
                                <div class="blog-post-card__category">LTT-MILK</div>
                                <img src="@item.FeaturedImage" alt="Bác sĩ" class="blog-post-card__image">
                                <div class="blog-post-card__logo">
                                    <img src="/assets/img/logo2.png" alt="Logo">
                                </div>
                            </div>
                            <div class="blog-post-card__content">
                                <h2 class="blog-post-card__title">@item.Title</h2>
                                <div class="blog-post-card__meta">
                                    <div class="blog-post-card__author">
                                        <img src="~/assets/img/logo2.png" alt="Tác giả" class="blog-post-card__author-avatar">
                                        <span>Bác sĩ</span>
                                    </div>
                                    <div class="blog-post-card__date">
                                        <i class="far fa-calendar"></i>
                                        <span>@(item.CreatedAt?.ToString("dd/MM/yyyy") ?? "Không có ngày")</span>
                                    </div>
                                </div>
                                <a asp-controller="DetailBlogPosts" asp-action="DetailBlog" asp-route-id="@item.Id" class="blog-post-card__button">
                                    Đọc ngay <i class="fas fa-arrow-right"></i>
                                </a>
                            </div>
                        </div>
                    </div>
                }
            </div>

            <!-- Quảng cáo ở giữa bài viết -->
            <div class="mid-page-ad">
                <div class="ad-container">
                    <div class="ad-content text-center">
                        <h4>Bật thông báo lên nhé!</h4>
                                <p>Bạn sẽ không bỏ lở khi có sản phẩm mới hoặc đợt giảm giá khuyến mãi ưu đãi hấp dẫn sắp tới</p>
                        <a style="color: black;" href="#" class="btn btn-primary ad-button">Xem thêm</a>
                    </div>
                </div>
            </div>

            <!-- Phân trang -->
            <div class="dental-pagination d-flex justify-content-center mt-4">
                <a href="#" class="dental-page dental-active d-flex align-items-center justify-content-center">1</a>
                <a href="#" class="dental-page d-flex align-items-center justify-content-center">2</a>
                <a href="#" class="dental-page d-flex align-items-center justify-content-center">3</a>
                <a href="#" class="dental-page d-flex align-items-center justify-content-center">4</a>
            </div>
        </div>

        <!-- Improved Sidebar with better structure and image placeholders -->
        <div class="col-lg-3">
            <div class="dental-sidebar">
                <!-- Services Widget -->
                <div class="dental-sidebar-widget p-3 bg-white">
                    <h3 class="dental-sidebar-title">Dịch vụ</h3>
                    <ul class="dental-service-list list-unstyled">
                        @foreach (var n in categories)
                        {
                            <li>
                                <a href="@Url.Action("Index", "BlogPosts", new { categoryId = n.Id })" class="dental-category-item text-decoration-none">
                                    @n.CategoryName
                                </a>
                            </li>
                        }
                    </ul>
                </div>
                <!-- New Promo Banner -->
                <div class="dental-sidebar-widget p-0 bg-white overflow-hidden">
                    <img src="/assets/img/Discounts/anh14.jpg" alt="Khuyến mãi tháng 4" class="img-fluid" />
                </div>
                <!-- Ultrasound Service Ad Banner -->
                <div class="dental-sidebar-ad">
                    <h4>Dịch vụ siêu âm</h4>
                    <p>Công nghệ hiện đại, chẩn đoán chính xác</p>
                    <a href="#" class="dental-sidebar-ad-button">Tìm hiểu thêm</a>
                </div>

                <!-- Testimonials Widget -->
                <div class="dental-sidebar-widget p-3 bg-white">
                    <h3 class="dental-sidebar-title">Đánh giá</h3>
                    <div class="dental-testimonial">
                        <p>"Dịch vụ chăm sóc tận tình, bác sĩ giỏi và thân thiện."</p>
                        <span>- Nguyễn Văn A</span>
                    </div>
                </div>

                <!-- New Promo Banner -->
                <div class="dental-sidebar-widget p-0 bg-white overflow-hidden">
                    <img src="/assets/img/Discounts/anh13.jpg" alt="Khuyến mãi tháng 4" class="img-fluid" /> 
                </div>           
                <!-- Promo Banners with unique class names to avoid conflicts -->
              <!-- Vertical Promotional Cards using Bootstrap classes only -->
                <div class="container-fluid p-0 mt-auto">
                    <div class="row g-2">
                        <!-- g-2 adds small gutters between rows -->
                        <!-- First promo item -->
                        <div class="col-12">
                            <div class="position-relative">
                                <img src="/assets/img/Discounts/anh15.jpg" class="w-100 rounded-3" alt="COCOXIM">
                                <div class="position-absolute bottom-0 start-0 w-100 bg-dark text-white text-center py-2">
                                    <span class="fw-bold">Ưu đãi</span>
                                </div>
                            </div>
                        </div>

                        <!-- Second promo item -->
                        <div class="col-12">
                            <div class="position-relative">
                                <img src="/assets/img/Discounts/anh16.jpg" class="w-100 rounded-3" alt="COCOXIM">
                                <div class="position-absolute bottom-0 start-0 w-100 bg-dark text-white text-center py-2">
                                    <span class="fw-bold">Dịch vụ</span><br>
                                </div>
                            </div>
                        </div>

                        <!-- Third promo item -->
                        <div class="col-12">
                            <div class="position-relative">
                                <img src="/assets/img/Discounts/anh17.jpg" class="w-100 rounded-3" alt="Mansion View">
                                <div class="position-absolute bottom-0 start-0 w-100 bg-dark text-white text-center py-1">
                                 
                                    <span class="fw-bold">Sản phẩm</span>
                                </div>
                            </div>
                        </div>
                    </div>
                </div>
            </div>
        </div>
    </div>
</div>